#!/usr/bin/env ruby
require_relative '../lib/scraper.rb'

puts 'Welcome to my awesome customer reviews scraper :-D'

# Get movie title from user
# Validate movie title
# Generate movie url
# Validate movie url
# Create a new scraper from the scraper class
# Initiate web scraping and get reviews back
# Print reviews
# puts 'AUDIENCE REVIEWS FOR MOVIE'
# puts "--------------------------\n"
# if empty
# return 'No audience reviews found!'
# else
# audience_reviews.each { |review| puts "#{event.content}\n\n" }
# puts "\n\n"
# puts 'CRITIC REVIEWS FOR MOVIE'
# puts "--------------------------\n"
# critic_reviews.each do |event|
#   puts "#{event.content[46..(event.content.length - 39)]}"
# end

# scraper = Scraper.new
# movie_title = ''
# until scraper.title_valid?(movie_title)
#   p 'Please provide a valid movie title'
#   movie_title = gets.chomp
# end
# puts 'generating url...'
# movie_url = scraper.generate_url(movie_title)
# puts "url generated #{movie_url}"
# puts '\nvalidating generated url...'
# valid_scraper_url = scraper.url_valid?(movie_url)
# if valid_scraper_url
#   puts 'fetching your reviews...'
#   p scraper.scrape_movie(movie_url)
# else
#   p 'This movie is not available in our database'
# end
